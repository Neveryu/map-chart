(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a54d868"],{"54b1":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"overview-wrapper"},[s("m-header",{attrs:{title:"我的任务",showBackApp:!0}}),s("div",{staticClass:"container"},[s("div",{staticClass:"time"},[s("div",{staticClass:"start",on:{click:t.openStartPicker}},[s("span",{staticClass:"pick"},[t._v(t._s(t.startTime))])]),s("mt-datetime-picker",{ref:"picker1",attrs:{type:"date",startDate:t.fStartDate,endDate:t.fEndDate,closeOnClickModal:!0},on:{"visible-change":t.handleVisibleChange,confirm:t.handleStartChange},model:{value:t.mintStartTime,callback:function(a){t.mintStartTime=a},expression:"mintStartTime"}}),s("span",{staticClass:"split"},[t._v("至")]),s("div",{staticClass:"end",on:{click:t.openEndPicker}},[s("span",{staticClass:"pick"},[t._v(t._s(t.endTime))])]),s("mt-datetime-picker",{ref:"picker2",attrs:{type:"date",startDate:t.lStartDate,endDate:t.lEndDate,closeOnClickModal:!0},on:{"visible-change":t.handleVisibleChange,confirm:t.handleEndChange},model:{value:t.mintEndTime,callback:function(a){t.mintEndTime=a},expression:"mintEndTime"}})],1),s("div",{staticClass:"main"},[s("div",{staticClass:"all"},[t._m(0),s("div",{staticClass:"content open"},[s("p",{staticClass:"name"},[t._v("全区")]),s("div",{staticClass:"tab-btn",on:{click:t.toggleStatClass}}),s("div",{staticClass:"detail"},[s("div",{staticClass:"total count"},[s("span",{staticClass:"name"},[t._v("任务总数")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.totalCount))])]),s("div",{staticClass:"total rate"},[s("span",{staticClass:"name"},[t._v("任务办结率")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.rate))])]),s("div",{staticClass:"detail-item"},[s("span",{staticClass:"name"},[t._v("各状态任务分布")]),s("div",{staticClass:"detail-content"},[s("div",{staticClass:"item item1"},[s("span",[t._v("已办结")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.theEnd))])]),s("div",{staticClass:"item item2"},[s("span",[t._v("受理中")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.untreating))])]),s("div",{staticClass:"item item3"},[s("span",[t._v("待审核")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.audit))])]),s("div",{staticClass:"item item4"},[s("span",[t._v("未受理")]),s("span",{staticClass:"value"},[t._v(t._s(t.allData.untreat))])])])])])])]),s("div",{staticClass:"depart"},[t._m(1),t._l(t.departData,(function(a,e){return s("div",{key:e,staticClass:"content"},[s("p",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"tab-btn",on:{click:t.toggleStatClass}}),s("div",{staticClass:"detail"},[s("div",{staticClass:"total count"},[s("span",{staticClass:"name"},[t._v("任务总数")]),s("span",{staticClass:"value"},[t._v(t._s(a.totalCount))])]),s("div",{staticClass:"total rate"},[s("span",{staticClass:"name"},[t._v("任务办结率")]),s("span",{staticClass:"value"},[t._v(t._s(a.rate))])]),s("div",{staticClass:"detail-item"},[s("span",{staticClass:"name"},[t._v("各状态任务分布")]),s("div",{staticClass:"detail-content"},[s("div",{staticClass:"item item1"},[s("span",[t._v("已办结")]),s("span",{staticClass:"value"},[t._v(t._s(a.theEnd))])]),s("div",{staticClass:"item item2"},[s("span",[t._v("受理中")]),s("span",{staticClass:"value"},[t._v(t._s(a.untreating))])]),s("div",{staticClass:"item item3"},[s("span",[t._v("待审核")]),s("span",{staticClass:"value"},[t._v(t._s(a.audit))])]),s("div",{staticClass:"item item4"},[s("span",[t._v("未受理")]),s("span",{staticClass:"value"},[t._v(t._s(a.untreat))])])])])])])}))],2)])]),s("m-bottom",{attrs:{currentMenu:1}}),s("div",{staticClass:"olay"})],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("p",{staticClass:"name"},[t._v("我的全部任务概况")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("p",{staticClass:"name"},[t._v("各地区任务概况")])])}],n=(s("ceaa"),s("b2fb")),l=s.n(n),c=s("0216"),r=s("7b7a"),o=s("84df"),d=s("6a07"),m=s("f891");function v(t,a){return Object(d["a"])({method:"get",url:m["a"].getAllStatus,params:{startTime:t,endTime:a}})}var u={name:"overview",components:{MHeader:c["a"],MBottom:r["a"]},data:function(){return{fStartDate:new Date("2010-01-01"),fEndDate:new Date,lStartDate:new Date("2010-01-01"),lEndDate:new Date,startTime:"",mintStartTime:"",endTime:"",mintEndTime:"",allData:{},departData:[]}},methods:{goList:function(t,a){this.$router.push({path:"/task-list",query:{from:"overview",deptId:t,articleStatus:a,startTime:this.startTime,endTime:this.endTime}})},mintuiDate:function(t){return new Date(t)},_hasClass:function(t,a){return t.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},_addClass:function(t,a){this._hasClass(t,a)||(t.className+=" "+a)},_removeClass:function(t,a){if(this._hasClass(t,a)){var s=new RegExp("(\\s|^)"+a+"(\\s|$)");t.className=t.className.replace(s,"")}},_toggleClass:function(t,a){this._hasClass(t,a)?this._removeClass(t,a):this._addClass(t,a)},toggleStatClass:function(t){var a=t.target.parentNode;this._toggleClass(a,"open")},handler:function(t){t.preventDefault()},closeTouch:function(){document.getElementsByTagName("body")[0].addEventListener("touchmove",this.handler,{passive:!1})},openTouch:function(){document.getElementsByTagName("body")[0].removeEventListener("touchmove",this.handler,{passive:!1})},openStartPicker:function(){this.$refs.picker1.open(),this.closeTouch()},openEndPicker:function(){this.$refs.picker2.open(),this.closeTouch()},handleStartChange:function(t){this.startTime=Object(o["a"])(t),this.$refs.picker1.close(),this.openTouch(),this._getAllStatus(this.startTime,this.endTime)},handleEndChange:function(t){this.endTime=Object(o["a"])(t),this.$refs.picker2.close(),this.openTouch(),this._getAllStatus(this.startTime,this.endTime)},handleVisibleChange:function(t){t?this.closeTouch():this.openTouch()},_getAllStatus:function(t,a){var s=this;l.a.open({text:"加载中...",spinnerType:"snake"}),v(t,a).then((function(t){l.a.close(),s.allData=t.allData,s.departData=t.departData,s.departData=s.departData.reverse()})).catch((function(t){l.a.close(),console.log(t.errorMessage)}))}},created:function(){this.startTime=this.mintStartTime=Object(o["a"])(new Date((new Date).valueOf()-5184e5)),this.endTime=this.mintEndTime=Object(o["a"])(new Date),this._getAllStatus()}},p=u,h=(s("c173"),s("2877")),C=Object(h["a"])(p,e,i,!1,null,"62c94bc0",null);a["default"]=C.exports},a29a:function(t,a,s){},c173:function(t,a,s){"use strict";var e=s("a29a"),i=s.n(e);i.a}}]);